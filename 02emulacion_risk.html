



<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Curso de Simulación 2019">
      
      
      
        <meta name="author" content="Francisco Palm">
      
      
        <meta name="lang:clipboard.copy" content="Copiar al portapapeles">
      
        <meta name="lang:clipboard.copied" content="Copiado al portapapeles">
      
        <meta name="lang:search.language" content="en, es">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No se encontraron documentos">
      
        <meta name="lang:search.result.one" content="1 documento encontrado">
      
        <meta name="lang:search.result.other" content="# documentos encontrados">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.3">
    
    
      
        <title>Emulación de una herramienta de Análisis de Riesgo basada en Excel con Python - Simulación 2019</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/application.30686662.css">
      
      
    
    
      <script src="assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#emulacion-de-una-herramienta-de-analisis-de-riesgo-basada-en-excel-con-python" tabindex="1" class="md-skip">
        Saltar a contenido
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="index.html" title="Simulación 2019" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Simulación 2019
            </span>
            <span class="md-header-nav__topic">
              
                Emulación de una herramienta de Análisis de Riesgo basada en Excel con Python
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Teclee para comenzar búsqueda
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="index.html" title="Simulación 2019" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Simulación 2019
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="index.html" title="Simulación" class="md-nav__link">
      Simulación
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="01simulacion_riesgo.html" title="Simulación y Riesgo" class="md-nav__link">
      Simulación y Riesgo
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Emulación de una herramienta de Análisis de Riesgo basada en Excel con Python
      </label>
    
    <a href="02emulacion_risk.html" title="Emulación de una herramienta de Análisis de Riesgo basada en Excel con Python" class="md-nav__link md-nav__link--active">
      Emulación de una herramienta de Análisis de Riesgo basada en Excel con Python
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Tabla de contenidos</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#datos" class="md-nav__link">
    Datos
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelo-estatico" class="md-nav__link">
    Modelo Estático
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configurando-las-distribuciones-para-la-simulacion" class="md-nav__link">
    Configurando las distribuciones para la simulación
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelo-de-simulacion" class="md-nav__link">
    Modelo de Simulación
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Tabla de contenidos</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#datos" class="md-nav__link">
    Datos
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelo-estatico" class="md-nav__link">
    Modelo Estático
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configurando-las-distribuciones-para-la-simulacion" class="md-nav__link">
    Configurando las distribuciones para la simulación
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelo-de-simulacion" class="md-nav__link">
    Modelo de Simulación
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="emulacion-de-una-herramienta-de-analisis-de-riesgo-basada-en-excel-con-python">Emulación de una herramienta de Análisis de Riesgo basada en Excel con Python<a class="headerlink" href="#emulacion-de-una-herramienta-de-analisis-de-riesgo-basada-en-excel-con-python" title="Permanent link">&para;</a></h1>
<p>Existen en Excel una variedad de herramientas para el análisis de riesgo, fundamentalmente utilizando modelado probabilístico de Monte Carlo. De esta manera, es posible introducir incertidumbre en los modelos de decisión y analizar el impacto de esta incertidumbre.</p>
<p>A continuación, para trazar un paralelo entre las herramientas de análisis de riesgo mediante simulación de Monte Carlo y el análisis estadístico con Python se tomará como base un ejemplo que aparece en <em>Business Analytics</em> de James Evans del lanzamiento de un nuevo producto farmaceútico. Básicamente se trata de analizar la balanza de pagos entre la inversión inicial del producto y los beneficios netos producidos por las ventas en un horizonte de 5 años.</p>
<p><img alt="Pharmaceuticals spreadheets model" src="img/pharmaceuticals_spreadsheet.png" /></p>
<p>Empezamos por importar los módulos necesarios.</p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="kn">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">display</span><span class="p">,</span> <span class="n">Markdown</span><span class="p">,</span> <span class="n">Latex</span>
</pre></div>

<h2 id="datos">Datos<a class="headerlink" href="#datos" title="Permanent link">&para;</a></h2>
<p>Se introducen los datos del modelo, el tamaño base del mercado <code class="codehilite"><span class="n">Market</span> <span class="k">size</span></code>, los ingresos mensuales unitarios <code class="codehilite"><span class="n">Unit</span> <span class="p">(</span><span class="n">monthly</span> <span class="n">Rx</span><span class="p">)</span> <span class="n">revenue</span></code>, los costos mensuales unitarios <code class="codehilite"><span class="n">Unit</span> <span class="p">(</span><span class="n">monthly</span> <span class="n">Rx</span><span class="p">)</span> <span class="n">cost</span></code>, y la tasa anual utilizada para los cálculos financieros <code class="codehilite"><span class="n">Discount</span> <span class="n">rate</span></code>.</p>
<p>Para iniciar el proyecto es necesario realizar una inversión en investigación y desarrollo <code class="codehilite"><span class="n">R</span><span class="o">&amp;</span><span class="n">D</span></code>, y en ensayos clínicos <code class="codehilite"><span class="n">Clinical</span> <span class="n">Trials</span></code>, que sumados devuelven los costos totales del proyecto <code class="codehilite"><span class="n">Total</span> <span class="n">Project</span> <span class="n">Costs</span></code>.</p>
<div class="codehilite"><pre><span></span><span class="n">market_size</span> <span class="o">=</span> <span class="mi">2000000</span>
<span class="n">unit_revenue</span> <span class="o">=</span> <span class="mi">130</span>
<span class="n">unit_cost</span> <span class="o">=</span> <span class="mi">40</span>
<span class="n">discount_rate</span> <span class="o">=</span> <span class="mf">0.09</span>

<span class="n">rd_cost</span> <span class="o">=</span> <span class="mi">700000000</span>
<span class="n">trials_cost</span> <span class="o">=</span> <span class="mi">150000000</span>
<span class="n">total_costs</span> <span class="o">=</span> <span class="n">rd_cost</span> <span class="o">+</span> <span class="n">trials_cost</span>
</pre></div>

<h2 id="modelo-estatico">Modelo Estático<a class="headerlink" href="#modelo-estatico" title="Permanent link">&para;</a></h2>
<p>Ahora se procede a desarrollar el modelo, se proyecta que cada año el mercado crece de acuerdo al factor <code class="codehilite"><span class="n">Market</span> <span class="n">growth</span> <span class="n">factor</span></code>. Aunque esta es una operación repetitiva es importante escribirla de forma vectorizada (evitando lazos de repetición) para sacar provecho de las bondades de numpy.</p>
<p>Así, en lugar de:</p>
<div class="codehilite"><pre><span></span><span class="n">years</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
</pre></div>

<div class="codehilite"><pre><span></span><span class="n">market_growth</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="n">market_growth</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">market_size</span>
<span class="n">growth_factor</span> <span class="o">=</span> <span class="mf">0.03</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">):</span>
    <span class="n">market_growth</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">market_growth</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="n">growth_factor</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;Tamaño del mercado&#39;</span><span class="p">:</span> <span class="n">market_growth</span><span class="p">},</span> <span class="n">index</span><span class="o">=</span><span class="n">years</span><span class="p">)</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;{:,.2f}&#39;</span><span class="p">)</span>
</pre></div>

<style  type="text/css" >
</style>

<table id="T_bb27b8b6_fc11_11e9_bff9_24fd527cc727" ><thead>    <tr>        <th class="blank level0" ></th>        <th class="col_heading level0 col0" >1</th>        <th class="col_heading level0 col1" >2</th>        <th class="col_heading level0 col2" >3</th>        <th class="col_heading level0 col3" >4</th>        <th class="col_heading level0 col4" >5</th>    </tr></thead><tbody>
                <tr>
                        <th id="T_bb27b8b6_fc11_11e9_bff9_24fd527cc727level0_row0" class="row_heading level0 row0" >Tamaño del mercado</th>
                        <td id="T_bb27b8b6_fc11_11e9_bff9_24fd527cc727row0_col0" class="data row0 col0" >2,000,000.00</td>
                        <td id="T_bb27b8b6_fc11_11e9_bff9_24fd527cc727row0_col1" class="data row0 col1" >2,060,000.00</td>
                        <td id="T_bb27b8b6_fc11_11e9_bff9_24fd527cc727row0_col2" class="data row0 col2" >2,121,800.00</td>
                        <td id="T_bb27b8b6_fc11_11e9_bff9_24fd527cc727row0_col3" class="data row0 col3" >2,185,454.00</td>
                        <td id="T_bb27b8b6_fc11_11e9_bff9_24fd527cc727row0_col4" class="data row0 col4" >2,251,017.62</td>
            </tr>
    </tbody></table>

<p>Lo podemos expresar así:</p>
<div class="codehilite"><pre><span></span><span class="n">growth_factor</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mf">0.03</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">market_growth</span> <span class="o">=</span> <span class="n">market_size</span> <span class="o">*</span> <span class="p">(</span><span class="n">growth_factor</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">cumprod</span><span class="p">()</span>
<span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;Tamaño del mercado&#39;</span><span class="p">:</span> <span class="n">market_growth</span><span class="p">},</span> <span class="n">index</span><span class="o">=</span><span class="n">years</span><span class="p">)</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;{:,.2f}&#39;</span><span class="p">)</span>
</pre></div>

<style  type="text/css" >
</style>

<table id="T_bb2a3474_fc11_11e9_bff9_24fd527cc727" ><thead>    <tr>        <th class="blank level0" ></th>        <th class="col_heading level0 col0" >1</th>        <th class="col_heading level0 col1" >2</th>        <th class="col_heading level0 col2" >3</th>        <th class="col_heading level0 col3" >4</th>        <th class="col_heading level0 col4" >5</th>    </tr></thead><tbody>
                <tr>
                        <th id="T_bb2a3474_fc11_11e9_bff9_24fd527cc727level0_row0" class="row_heading level0 row0" >Tamaño del mercado</th>
                        <td id="T_bb2a3474_fc11_11e9_bff9_24fd527cc727row0_col0" class="data row0 col0" >2,000,000.00</td>
                        <td id="T_bb2a3474_fc11_11e9_bff9_24fd527cc727row0_col1" class="data row0 col1" >2,060,000.00</td>
                        <td id="T_bb2a3474_fc11_11e9_bff9_24fd527cc727row0_col2" class="data row0 col2" >2,121,800.00</td>
                        <td id="T_bb2a3474_fc11_11e9_bff9_24fd527cc727row0_col3" class="data row0 col3" >2,185,454.00</td>
                        <td id="T_bb2a3474_fc11_11e9_bff9_24fd527cc727row0_col4" class="data row0 col4" >2,251,017.62</td>
            </tr>
    </tbody></table>

<p>De forma similar, la cuota de mercado crece anualmente de acuerdo a la tasa <code class="codehilite"><span class="n">Market</span> <span class="k">share</span> <span class="n">growth</span> <span class="n">rate</span></code>.</p>
<div class="codehilite"><pre><span></span><span class="n">market_share</span> <span class="o">=</span> <span class="mf">0.08</span>
<span class="n">share_growth_rate</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mf">0.2</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">share_growth</span> <span class="o">=</span> <span class="n">market_share</span> <span class="o">*</span> <span class="p">(</span><span class="n">share_growth_rate</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">cumprod</span><span class="p">()</span>
<span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;Cuota del mercado&#39;</span><span class="p">:</span> <span class="n">share_growth</span><span class="p">},</span> <span class="n">index</span><span class="o">=</span><span class="n">years</span><span class="p">)</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;{0:.0%}&#39;</span><span class="p">)</span>
</pre></div>

<style  type="text/css" >
</style>

<table id="T_bb45ee6c_fc11_11e9_bff9_24fd527cc727" ><thead>    <tr>        <th class="blank level0" ></th>        <th class="col_heading level0 col0" >1</th>        <th class="col_heading level0 col1" >2</th>        <th class="col_heading level0 col2" >3</th>        <th class="col_heading level0 col3" >4</th>        <th class="col_heading level0 col4" >5</th>    </tr></thead><tbody>
                <tr>
                        <th id="T_bb45ee6c_fc11_11e9_bff9_24fd527cc727level0_row0" class="row_heading level0 row0" >Cuota del mercado</th>
                        <td id="T_bb45ee6c_fc11_11e9_bff9_24fd527cc727row0_col0" class="data row0 col0" >8%</td>
                        <td id="T_bb45ee6c_fc11_11e9_bff9_24fd527cc727row0_col1" class="data row0 col1" >10%</td>
                        <td id="T_bb45ee6c_fc11_11e9_bff9_24fd527cc727row0_col2" class="data row0 col2" >12%</td>
                        <td id="T_bb45ee6c_fc11_11e9_bff9_24fd527cc727row0_col3" class="data row0 col3" >14%</td>
                        <td id="T_bb45ee6c_fc11_11e9_bff9_24fd527cc727row0_col4" class="data row0 col4" >17%</td>
            </tr>
    </tbody></table>

<p>Y así, obtenemos las ventas (mensuales) como el producto de los dos vectores anteriores:</p>
<div class="codehilite"><pre><span></span><span class="n">sales</span> <span class="o">=</span> <span class="n">market_growth</span> <span class="o">*</span> <span class="n">share_growth</span>
<span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;Ventas mensuales&#39;</span><span class="p">:</span> <span class="n">sales</span><span class="p">},</span> <span class="n">index</span><span class="o">=</span><span class="n">years</span><span class="p">)</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;${:,.2f}&#39;</span><span class="p">)</span>
</pre></div>

<style  type="text/css" >
</style>

<table id="T_bb5c6c8c_fc11_11e9_bff9_24fd527cc727" ><thead>    <tr>        <th class="blank level0" ></th>        <th class="col_heading level0 col0" >1</th>        <th class="col_heading level0 col1" >2</th>        <th class="col_heading level0 col2" >3</th>        <th class="col_heading level0 col3" >4</th>        <th class="col_heading level0 col4" >5</th>    </tr></thead><tbody>
                <tr>
                        <th id="T_bb5c6c8c_fc11_11e9_bff9_24fd527cc727level0_row0" class="row_heading level0 row0" >Ventas mensuales</th>
                        <td id="T_bb5c6c8c_fc11_11e9_bff9_24fd527cc727row0_col0" class="data row0 col0" >$160,000.00</td>
                        <td id="T_bb5c6c8c_fc11_11e9_bff9_24fd527cc727row0_col1" class="data row0 col1" >$197,760.00</td>
                        <td id="T_bb5c6c8c_fc11_11e9_bff9_24fd527cc727row0_col2" class="data row0 col2" >$244,431.36</td>
                        <td id="T_bb5c6c8c_fc11_11e9_bff9_24fd527cc727row0_col3" class="data row0 col3" >$302,117.16</td>
                        <td id="T_bb5c6c8c_fc11_11e9_bff9_24fd527cc727row0_col4" class="data row0 col4" >$373,416.81</td>
            </tr>
    </tbody></table>

<p>Los ingresos anuales <code class="codehilite"><span class="n">Annual</span> <span class="n">Revenue</span></code> se obtienen de la ventas mensuales por el precio de venta (multiplicado por 12), y los costos <code class="codehilite"><span class="n">Annual</span> <span class="n">Costs</span></code> se calculan de las ventas por los costos unitarios. Así, el beneficio anual <code class="codehilite"><span class="n">Profit</span></code> se obtiene de la resta de cada uno de los valores anteriores para cada año.</p>
<div class="codehilite"><pre><span></span><span class="n">annual_revenue</span> <span class="o">=</span> <span class="n">sales</span> <span class="o">*</span> <span class="n">unit_revenue</span> <span class="o">*</span> <span class="mi">12</span>
<span class="n">annual_costs</span> <span class="o">=</span> <span class="n">sales</span> <span class="o">*</span> <span class="n">unit_cost</span> <span class="o">*</span> <span class="mi">12</span>
<span class="n">profit</span> <span class="o">=</span> <span class="n">annual_revenue</span> <span class="o">-</span> <span class="n">annual_costs</span>
<span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;Beneficio anual&#39;</span><span class="p">:</span> <span class="n">profit</span><span class="p">},</span> <span class="n">index</span><span class="o">=</span><span class="n">years</span><span class="p">)</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;${:,.2f}&#39;</span><span class="p">)</span>
</pre></div>

<style  type="text/css" >
</style>

<table id="T_bb7e24d0_fc11_11e9_bff9_24fd527cc727" ><thead>    <tr>        <th class="blank level0" ></th>        <th class="col_heading level0 col0" >1</th>        <th class="col_heading level0 col1" >2</th>        <th class="col_heading level0 col2" >3</th>        <th class="col_heading level0 col3" >4</th>        <th class="col_heading level0 col4" >5</th>    </tr></thead><tbody>
                <tr>
                        <th id="T_bb7e24d0_fc11_11e9_bff9_24fd527cc727level0_row0" class="row_heading level0 row0" >Beneficio anual</th>
                        <td id="T_bb7e24d0_fc11_11e9_bff9_24fd527cc727row0_col0" class="data row0 col0" >$172,800,000.00</td>
                        <td id="T_bb7e24d0_fc11_11e9_bff9_24fd527cc727row0_col1" class="data row0 col1" >$213,580,800.00</td>
                        <td id="T_bb7e24d0_fc11_11e9_bff9_24fd527cc727row0_col2" class="data row0 col2" >$263,985,868.80</td>
                        <td id="T_bb7e24d0_fc11_11e9_bff9_24fd527cc727row0_col3" class="data row0 col3" >$326,286,533.84</td>
                        <td id="T_bb7e24d0_fc11_11e9_bff9_24fd527cc727row0_col4" class="data row0 col4" >$403,290,155.82</td>
            </tr>
    </tbody></table>

<p>El beneficio neto acumulado lo podemos calcular como una suma acumulada a la que se le restan los costos de inversión totales.</p>
<div class="codehilite"><pre><span></span><span class="n">net_profit</span> <span class="o">=</span> <span class="n">profit</span><span class="o">.</span><span class="n">cumsum</span><span class="p">()</span> <span class="o">-</span> <span class="n">total_costs</span>
<span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;Beneficio neto acumulado&#39;</span><span class="p">:</span> <span class="n">net_profit</span><span class="p">},</span> <span class="n">index</span><span class="o">=</span><span class="n">years</span><span class="p">)</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;${:,.2f}&#39;</span><span class="p">)</span>
</pre></div>

<style  type="text/css" >
</style>

<table id="T_bb95de68_fc11_11e9_bff9_24fd527cc727" ><thead>    <tr>        <th class="blank level0" ></th>        <th class="col_heading level0 col0" >1</th>        <th class="col_heading level0 col1" >2</th>        <th class="col_heading level0 col2" >3</th>        <th class="col_heading level0 col3" >4</th>        <th class="col_heading level0 col4" >5</th>    </tr></thead><tbody>
                <tr>
                        <th id="T_bb95de68_fc11_11e9_bff9_24fd527cc727level0_row0" class="row_heading level0 row0" >Beneficio neto acumulado</th>
                        <td id="T_bb95de68_fc11_11e9_bff9_24fd527cc727row0_col0" class="data row0 col0" >$-677,200,000.00</td>
                        <td id="T_bb95de68_fc11_11e9_bff9_24fd527cc727row0_col1" class="data row0 col1" >$-463,619,200.00</td>
                        <td id="T_bb95de68_fc11_11e9_bff9_24fd527cc727row0_col2" class="data row0 col2" >$-199,633,331.20</td>
                        <td id="T_bb95de68_fc11_11e9_bff9_24fd527cc727row0_col3" class="data row0 col3" >$126,653,202.64</td>
                        <td id="T_bb95de68_fc11_11e9_bff9_24fd527cc727row0_col4" class="data row0 col4" >$529,943,358.46</td>
            </tr>
    </tbody></table>

<p>Como se puede observar en este caso, a partir del 4to año el beneficio neto empieza a dar positivo, por lo que se ha recuperado la inversión.</p>
<p>Finalmente, el valor presente de la inversión lo calculamos utilizando la función correspondiente de numpy.</p>
<div class="codehilite"><pre><span></span><span class="n">net_pv</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">pv</span><span class="p">(</span><span class="n">discount_rate</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="n">profit</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">-</span> <span class="n">total_costs</span>
<span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="n">f</span><span class="s2">&quot;**Valor presente neto** : ${net_pv:,.2f}&quot;</span><span class="p">))</span>
</pre></div>

<p><strong>Valor presente neto</strong> : $185,404,859.91</p>
<h2 id="configurando-las-distribuciones-para-la-simulacion">Configurando las distribuciones para la simulación<a class="headerlink" href="#configurando-las-distribuciones-para-la-simulacion" title="Permanent link">&para;</a></h2>
<p>El modelo anterior se puede considerar una fotografía de la enorme cantidad de posibilidades que podríamos tener, muchos factores son aleatorios y se desean explorar los patrones que surgen cuando operan de manera conjunta.</p>
<p>En el caso de este modelo se considera que los siguientes factores son aleatorios:
 * El tamaño del mercado está distribuido normal con <span><span class="MathJax_Preview">\mu = \$2,000,000</span><script type="math/tex">\mu = \$2,000,000</script></span> y <span><span class="MathJax_Preview">\sigma = \$400,000</span><script type="math/tex">\sigma = \$400,000</script></span>.
 * La inversión en investigación y desarrollo es uniforme entre <span><span class="MathJax_Preview">\$600,000,000</span><script type="math/tex">\$600,000,000</script></span> y <span><span class="MathJax_Preview">\$800,000,000</span><script type="math/tex">\$800,000,000</script></span>.
 * La inversión en ensayos clínicos es lognormal con <span><span class="MathJax_Preview">\mu = \$150,000,000</span><script type="math/tex">\mu = \$150,000,000</script></span> y <span><span class="MathJax_Preview">\sigma = \$30,000,000</span><script type="math/tex">\sigma = \$30,000,000</script></span>.
 * El factor de crecimiento del mercado es triangular con mínimo <span><span class="MathJax_Preview">2\%</span><script type="math/tex">2\%</script></span>, máximo <span><span class="MathJax_Preview">6\%</span><script type="math/tex">6\%</script></span>, y valor más probable <span><span class="MathJax_Preview">3\%</span><script type="math/tex">3\%</script></span>.
 * la tasa de crecimiento de la cuota de mercado es triangular con mínimo <span><span class="MathJax_Preview">15\%</span><script type="math/tex">15\%</script></span>, máximo <span><span class="MathJax_Preview">25\%</span><script type="math/tex">25\%</script></span>, y valor más probable <span><span class="MathJax_Preview">20\%</span><script type="math/tex">20\%</script></span>.</p>
<p>Vamos a ver como simulamos estas distribuciones una a una.</p>
<p>Para el caso del tamaño del mercado:</p>
<div class="codehilite"><pre><span></span><span class="n">market_size</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="mi">2000000</span><span class="p">,</span> <span class="mi">400000</span><span class="p">,</span> <span class="mi">10000</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">market_size</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

<p><img alt="png" src="output_21_0.png" /></p>
<p>Para la inversión en investigación y desarrollo:</p>
<div class="codehilite"><pre><span></span><span class="n">rd_cost</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mi">600000000</span><span class="p">,</span> <span class="mi">800000000</span><span class="p">,</span> <span class="mi">10000</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">rd_cost</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

<p><img alt="png" src="output_23_0.png" /></p>
<p>En el caso de la lognormal hay una pequeña complicación, porque en numpy la media y la desviación estándar que recibe la función como parámetros son de la distribución normal interna o subyacente, mientras que los valores dados corresponden a la propia log-normal.</p>
<p>Así, <span><span class="MathJax_Preview">\mu_L</span><script type="math/tex">\mu_L</script></span> y <span><span class="MathJax_Preview">\sigma_L</span><script type="math/tex">\sigma_L</script></span> son los valores dados de la lognormal, y <span><span class="MathJax_Preview">\mu_N</span><script type="math/tex">\mu_N</script></span> y <span><span class="MathJax_Preview">\sigma_N</span><script type="math/tex">\sigma_N</script></span> los de la distribución normal que hay que introducir a la función. </p>
<div>
<div class="MathJax_Preview">\begin{equation*}
\mu_L = \exp\left(\mu_N+\frac{\sigma_N^2}{2}\right) \\
\sigma_L^2 = [\exp(\sigma_N^2)-1] \exp(2\mu_N+\sigma_N^2)   \tag{0}
\end{equation*}</div>
<script type="math/tex; mode=display">\begin{equation*}
\mu_L = \exp\left(\mu_N+\frac{\sigma_N^2}{2}\right) \\
\sigma_L^2 = [\exp(\sigma_N^2)-1] \exp(2\mu_N+\sigma_N^2)   \tag{0}
\end{equation*}</script>
</div>
<p>Se necesitan expresar <span><span class="MathJax_Preview">\mu_N</span><script type="math/tex">\mu_N</script></span> y <span><span class="MathJax_Preview">\sigma_N</span><script type="math/tex">\sigma_N</script></span> en función de <span><span class="MathJax_Preview">\mu_L</span><script type="math/tex">\mu_L</script></span> y <span><span class="MathJax_Preview">\sigma_L</span><script type="math/tex">\sigma_L</script></span>.</p>
<p>Para lograr esto, aplicamos algoritmos a ambos lados de cada expresión:</p>
<div>
<div class="MathJax_Preview">\begin{equation*}
ln(\mu_L) = ln\left(\exp\left(\mu_N+\frac{\sigma_N^2}{2}\right)\right) \\
ln(\mu_L) = \mu_N+\frac{\sigma_N^2}{2}
\end{equation*}</div>
<script type="math/tex; mode=display">\begin{equation*}
ln(\mu_L) = ln\left(\exp\left(\mu_N+\frac{\sigma_N^2}{2}\right)\right) \\
ln(\mu_L) = \mu_N+\frac{\sigma_N^2}{2}
\end{equation*}</script>
</div>
<p>Así,</p>
<div>
<div class="MathJax_Preview">\begin{equation*}
\mu_N = ln(\mu_L)-\frac{\sigma_N^2}{2}  \tag{1}
\end{equation*}</div>
<script type="math/tex; mode=display">\begin{equation*}
\mu_N = ln(\mu_L)-\frac{\sigma_N^2}{2}  \tag{1}
\end{equation*}</script>
</div>
<p>y</p>
<div>
<div class="MathJax_Preview">\begin{equation*}
ln\left(\sigma_L^2\right) = ln\left([\exp(\sigma_N^2)-1] \exp(2\mu_N+\sigma_N^2)\right) \\
2ln(\sigma_L) = ln\left([\exp(\sigma_N^2)-1]\right)+ln\left(\exp(2\mu_N+\sigma_N^2)\right)
\end{equation*}</div>
<script type="math/tex; mode=display">\begin{equation*}
ln\left(\sigma_L^2\right) = ln\left([\exp(\sigma_N^2)-1] \exp(2\mu_N+\sigma_N^2)\right) \\
2ln(\sigma_L) = ln\left([\exp(\sigma_N^2)-1]\right)+ln\left(\exp(2\mu_N+\sigma_N^2)\right)
\end{equation*}</script>
</div>
<div>
<div class="MathJax_Preview">\begin{equation*}
2ln(\sigma_L) = ln\left([\exp(\sigma_N^2)-1]\right)+2\mu_N+\sigma_N^2   \tag{2}
\end{equation*}</div>
<script type="math/tex; mode=display">\begin{equation*}
2ln(\sigma_L) = ln\left([\exp(\sigma_N^2)-1]\right)+2\mu_N+\sigma_N^2   \tag{2}
\end{equation*}</script>
</div>
<p>Sustituyendo <span><span class="MathJax_Preview">(1)</span><script type="math/tex">(1)</script></span> en <span><span class="MathJax_Preview">(2)</span><script type="math/tex">(2)</script></span>.</p>
<div>
<div class="MathJax_Preview">\begin{align*}
2ln(\sigma_L) = ln\left([\exp(\sigma_N^2)-1]\right)+2(ln(\mu_L)-\frac{\sigma_N^2}{2})+\sigma_N^2 \\
2ln(\sigma_L) = ln\left([\exp(\sigma_N^2)-1]\right)+2ln(\mu_L)-\sigma_N^2+\sigma_N^2
\end{align*}</div>
<script type="math/tex; mode=display">\begin{align*}
2ln(\sigma_L) = ln\left([\exp(\sigma_N^2)-1]\right)+2(ln(\mu_L)-\frac{\sigma_N^2}{2})+\sigma_N^2 \\
2ln(\sigma_L) = ln\left([\exp(\sigma_N^2)-1]\right)+2ln(\mu_L)-\sigma_N^2+\sigma_N^2
\end{align*}</script>
</div>
<p>Simplificando</p>
<div>
<div class="MathJax_Preview">\begin{equation*}
ln\left([\exp(\sigma_N^2)-1]\right) = 2ln(\sigma_L)-2ln(\mu_L) \\
ln\left([\exp(\sigma_N^2)-1]\right) = ln\left(\frac{\sigma_L^2}{\mu_L^2}\right) \\
[\exp(\sigma_N^2)-1] = \left(\frac{\sigma_L}{\mu_L}\right)^2
\end{equation*}</div>
<script type="math/tex; mode=display">\begin{equation*}
ln\left([\exp(\sigma_N^2)-1]\right) = 2ln(\sigma_L)-2ln(\mu_L) \\
ln\left([\exp(\sigma_N^2)-1]\right) = ln\left(\frac{\sigma_L^2}{\mu_L^2}\right) \\
[\exp(\sigma_N^2)-1] = \left(\frac{\sigma_L}{\mu_L}\right)^2
\end{equation*}</script>
</div>
<p>Nos queda entonces:</p>
<div>
<div class="MathJax_Preview">\begin{equation*}
ln\exp(\sigma_N^2) = ln\left(\left(\frac{\sigma_L^2}{\mu_L^2}\right) + 1\right) \\
\sigma_N^2 = ln\left(\frac{\sigma_L^2}{\mu_L^2}\right) + 1 \\
\end{equation*}</div>
<script type="math/tex; mode=display">\begin{equation*}
ln\exp(\sigma_N^2) = ln\left(\left(\frac{\sigma_L^2}{\mu_L^2}\right) + 1\right) \\
\sigma_N^2 = ln\left(\frac{\sigma_L^2}{\mu_L^2}\right) + 1 \\
\end{equation*}</script>
</div>
<div>
<div class="MathJax_Preview">\begin{equation*}
\sigma_N = \sqrt{1 + ln\left(\frac{\sigma_L^2}{\mu_L^2}\right)}    \tag{3}
\end{equation*}</div>
<script type="math/tex; mode=display">\begin{equation*}
\sigma_N = \sqrt{1 + ln\left(\frac{\sigma_L^2}{\mu_L^2}\right)}    \tag{3}
\end{equation*}</script>
</div>
<p>De esta forma, hallamos <span><span class="MathJax_Preview">\sigma_N</span><script type="math/tex">\sigma_N</script></span> usando <span><span class="MathJax_Preview">(3)</span><script type="math/tex">(3)</script></span>, y con este valor encontramos <span><span class="MathJax_Preview">\mu_N</span><script type="math/tex">\mu_N</script></span> usando <span><span class="MathJax_Preview">(1)</span><script type="math/tex">(1)</script></span>, lo que en python se traduce en:</p>
<div class="codehilite"><pre><span></span><span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">sqrt</span><span class="p">,</span> <span class="n">log</span>

<span class="n">lognormal_mean</span> <span class="o">=</span> <span class="mi">150000000</span>
<span class="n">lognormal_std</span> <span class="o">=</span> <span class="mi">30000000</span>

<span class="n">normal_std</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">log</span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="p">(</span><span class="n">lognormal_std</span><span class="o">/</span><span class="n">lognormal_mean</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">))</span>
<span class="n">normal_mean</span> <span class="o">=</span> <span class="n">log</span><span class="p">(</span><span class="n">lognormal_mean</span><span class="p">)</span> <span class="o">-</span> <span class="n">normal_std</span><span class="o">**</span><span class="mi">2</span> <span class="o">/</span> <span class="mi">2</span>
<span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="n">f</span><span class="s2">&quot;$\mu_N$ = {normal_mean:.6f}, $\sigma_N$ = {normal_std:.6f}&quot;</span><span class="p">))</span>
</pre></div>

<p><span><span class="MathJax_Preview">\mu_N</span><script type="math/tex">\mu_N</script></span> = 18.806535, <span><span class="MathJax_Preview">\sigma_N</span><script type="math/tex">\sigma_N</script></span> = 0.198042</p>
<p>El desarrollo de estas expresiones se hace con dos objetivos pedagógicos:</p>
<ol>
<li>Dar un ejemplo de como escribir ecuaciones en formato <span><span class="MathJax_Preview">\LaTeX</span><script type="math/tex">\LaTeX</script></span> y,</li>
<li>Mostrar como es necesario de vez en cuando recurrir a las matemáticas y la estadística para utilizar adecuadamente las herramientas.</li>
</ol>
<p>Más aún, igualando las ecuaciones <span><span class="MathJax_Preview">(0)</span><script type="math/tex">(0)</script></span> a cero,</p>
<div>
<div class="MathJax_Preview">\begin{equation*}
\exp\left(\mu_N+\frac{\sigma_N^2}{2}\right) - \mu_L = 0 \\
\sqrt{[\exp(\sigma_N^2)-1] \exp(2\mu_N+\sigma_N^2)} - \sigma_L = 0
\end{equation*}</div>
<script type="math/tex; mode=display">\begin{equation*}
\exp\left(\mu_N+\frac{\sigma_N^2}{2}\right) - \mu_L = 0 \\
\sqrt{[\exp(\sigma_N^2)-1] \exp(2\mu_N+\sigma_N^2)} - \sigma_L = 0
\end{equation*}</script>
</div>
<p>podríamos haber obtenido los parámetros de la normal subyacente utilizando métodos numéricos como sigue:</p>
<div class="codehilite"><pre><span></span><span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">exp</span><span class="p">,</span> <span class="n">sqrt</span>
<span class="kn">from</span> <span class="nn">scipy</span> <span class="kn">import</span> <span class="n">optimize</span>

<span class="k">def</span> <span class="nf">fun</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">exp</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="mi">150000000</span><span class="p">,</span>
            <span class="n">sqrt</span><span class="p">((</span><span class="n">exp</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">exp</span><span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span><span class="p">))</span> <span class="o">-</span> <span class="mi">30000000</span><span class="p">]</span>

<span class="n">sol</span> <span class="o">=</span> <span class="n">optimize</span><span class="o">.</span><span class="n">root</span><span class="p">(</span><span class="n">fun</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">jac</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;lm&#39;</span><span class="p">)</span>

<span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="n">f</span><span class="s2">&quot;$\mu_N$ = {sol.x[0]:.6f}, $\sigma_N$ = {sol.x[1]:.6f}&quot;</span><span class="p">))</span>
</pre></div>

<p><span><span class="MathJax_Preview">\mu_N</span><script type="math/tex">\mu_N</script></span> = 18.806535, <span><span class="MathJax_Preview">\sigma_N</span><script type="math/tex">\sigma_N</script></span> = 0.198042</p>
<p>La simulación de la distribución queda como sigue,</p>
<div class="codehilite"><pre><span></span><span class="n">trials_cost</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">lognormal</span><span class="p">(</span><span class="n">normal_mean</span><span class="p">,</span> <span class="n">normal_std</span><span class="p">,</span> <span class="mi">10000</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">trials_cost</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

<p><img alt="png" src="output_29_0.png" /></p>
<p>Nótese en el gráfico como la media de la distribución se corresponde con los 150 millones.</p>
<p>Para la simulación de las distribuciones triangulares no tenemos mayor problema, esta sería la simulación del factor de crecimiento del mercado:</p>
<div class="codehilite"><pre><span></span><span class="n">growth_factor</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">triangular</span><span class="p">(</span><span class="mf">0.02</span><span class="p">,</span> <span class="mf">0.03</span><span class="p">,</span> <span class="mf">0.06</span><span class="p">,</span> <span class="mi">10000</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">growth_factor</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

<p><img alt="png" src="output_31_0.png" /></p>
<p>Y la tasa de crecimiento de la cuota de mercado,</p>
<div class="codehilite"><pre><span></span><span class="n">share_growth_rate</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">triangular</span><span class="p">(</span><span class="mf">0.15</span><span class="p">,</span> <span class="mf">0.20</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">,</span> <span class="mi">10000</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">share_growth_rate</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

<p><img alt="png" src="output_33_0.png" /></p>
<h2 id="modelo-de-simulacion">Modelo de Simulación<a class="headerlink" href="#modelo-de-simulacion" title="Permanent link">&para;</a></h2>
<p>Ahora tenemos que juntar todo lo anterior para generar un buen número de replicas, digamos 10 mil, a partir de las observaciones aleatorias mencionadas arriba. En lo fundamental, se trata de re-escribir el método estático sustituyendo las valores fijos por las respectivas distribuciones de probabilidad, teniendo cuidado de escribir las replicas utilizando la vectorización.</p>
<p>Empezamos por la demanda inicial.</p>
<div class="codehilite"><pre><span></span><span class="n">market_size</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="mi">2000000</span><span class="p">,</span> <span class="mi">400000</span><span class="p">,</span> <span class="p">(</span><span class="mi">10000</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">df_market_size</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">market_size</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Mercado&quot;</span><span class="p">])</span>
<span class="n">fill</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([[</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">]],</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Mercado&quot;</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">df_market_size</span><span class="o">.</span><span class="n">head</span><span class="p">(),</span> <span class="n">fill</span><span class="p">,</span> <span class="n">df_market_size</span><span class="o">.</span><span class="n">tail</span><span class="p">()])</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;{:,.2f}&#39;</span><span class="p">)</span>
</pre></div>

<style  type="text/css" >
</style>

<table id="T_bc906ab8_fc11_11e9_bff9_24fd527cc727" ><thead>    <tr>        <th class="blank level0" ></th>        <th class="col_heading level0 col0" >Mercado</th>    </tr></thead><tbody>
                <tr>
                        <th id="T_bc906ab8_fc11_11e9_bff9_24fd527cc727level0_row0" class="row_heading level0 row0" >0</th>
                        <td id="T_bc906ab8_fc11_11e9_bff9_24fd527cc727row0_col0" class="data row0 col0" >1,576,347.06</td>
            </tr>
            <tr>
                        <th id="T_bc906ab8_fc11_11e9_bff9_24fd527cc727level0_row1" class="row_heading level0 row1" >1</th>
                        <td id="T_bc906ab8_fc11_11e9_bff9_24fd527cc727row1_col0" class="data row1 col0" >2,107,124.22</td>
            </tr>
            <tr>
                        <th id="T_bc906ab8_fc11_11e9_bff9_24fd527cc727level0_row2" class="row_heading level0 row2" >2</th>
                        <td id="T_bc906ab8_fc11_11e9_bff9_24fd527cc727row2_col0" class="data row2 col0" >2,278,867.44</td>
            </tr>
            <tr>
                        <th id="T_bc906ab8_fc11_11e9_bff9_24fd527cc727level0_row3" class="row_heading level0 row3" >3</th>
                        <td id="T_bc906ab8_fc11_11e9_bff9_24fd527cc727row3_col0" class="data row3 col0" >1,401,270.50</td>
            </tr>
            <tr>
                        <th id="T_bc906ab8_fc11_11e9_bff9_24fd527cc727level0_row4" class="row_heading level0 row4" >4</th>
                        <td id="T_bc906ab8_fc11_11e9_bff9_24fd527cc727row4_col0" class="data row4 col0" >2,078,883.64</td>
            </tr>
            <tr>
                        <th id="T_bc906ab8_fc11_11e9_bff9_24fd527cc727level0_row5" class="row_heading level0 row5" >-1</th>
                        <td id="T_bc906ab8_fc11_11e9_bff9_24fd527cc727row5_col0" class="data row5 col0" >nan</td>
            </tr>
            <tr>
                        <th id="T_bc906ab8_fc11_11e9_bff9_24fd527cc727level0_row6" class="row_heading level0 row6" >9995</th>
                        <td id="T_bc906ab8_fc11_11e9_bff9_24fd527cc727row6_col0" class="data row6 col0" >1,892,593.90</td>
            </tr>
            <tr>
                        <th id="T_bc906ab8_fc11_11e9_bff9_24fd527cc727level0_row7" class="row_heading level0 row7" >9996</th>
                        <td id="T_bc906ab8_fc11_11e9_bff9_24fd527cc727row7_col0" class="data row7 col0" >1,785,752.90</td>
            </tr>
            <tr>
                        <th id="T_bc906ab8_fc11_11e9_bff9_24fd527cc727level0_row8" class="row_heading level0 row8" >9997</th>
                        <td id="T_bc906ab8_fc11_11e9_bff9_24fd527cc727row8_col0" class="data row8 col0" >2,075,328.78</td>
            </tr>
            <tr>
                        <th id="T_bc906ab8_fc11_11e9_bff9_24fd527cc727level0_row9" class="row_heading level0 row9" >9998</th>
                        <td id="T_bc906ab8_fc11_11e9_bff9_24fd527cc727row9_col0" class="data row9 col0" >2,037,629.80</td>
            </tr>
            <tr>
                        <th id="T_bc906ab8_fc11_11e9_bff9_24fd527cc727level0_row10" class="row_heading level0 row10" >9999</th>
                        <td id="T_bc906ab8_fc11_11e9_bff9_24fd527cc727row10_col0" class="data row10 col0" >2,065,276.31</td>
            </tr>
    </tbody></table>

<p>Nótese la especificación de la forma como un vector columna, esto es conveniente para las operaciones matriciales. Convertimos los datos a un DataFrame, al igual que arriba, solamente para que aparezca en un formato tabular. </p>
<p>La inversión en investigación y desarrollo sería:</p>
<div class="codehilite"><pre><span></span><span class="n">rd_cost</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mi">600000000</span><span class="p">,</span> <span class="mi">800000000</span><span class="p">,</span> <span class="p">(</span><span class="mi">10000</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">df_rd_cost</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">rd_cost</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;I&amp;D&quot;</span><span class="p">])</span>
<span class="n">df_rd_cost</span><span class="o">.</span><span class="n">head</span><span class="p">()</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;${:,.2f}&#39;</span><span class="p">)</span>
</pre></div>

<style  type="text/css" >
</style>

<table id="T_bcad7eb4_fc11_11e9_bff9_24fd527cc727" ><thead>    <tr>        <th class="blank level0" ></th>        <th class="col_heading level0 col0" >I&D</th>    </tr></thead><tbody>
                <tr>
                        <th id="T_bcad7eb4_fc11_11e9_bff9_24fd527cc727level0_row0" class="row_heading level0 row0" >0</th>
                        <td id="T_bcad7eb4_fc11_11e9_bff9_24fd527cc727row0_col0" class="data row0 col0" >$681,390,117.53</td>
            </tr>
            <tr>
                        <th id="T_bcad7eb4_fc11_11e9_bff9_24fd527cc727level0_row1" class="row_heading level0 row1" >1</th>
                        <td id="T_bcad7eb4_fc11_11e9_bff9_24fd527cc727row1_col0" class="data row1 col0" >$782,316,278.38</td>
            </tr>
            <tr>
                        <th id="T_bcad7eb4_fc11_11e9_bff9_24fd527cc727level0_row2" class="row_heading level0 row2" >2</th>
                        <td id="T_bcad7eb4_fc11_11e9_bff9_24fd527cc727row2_col0" class="data row2 col0" >$602,430,812.95</td>
            </tr>
            <tr>
                        <th id="T_bcad7eb4_fc11_11e9_bff9_24fd527cc727level0_row3" class="row_heading level0 row3" >3</th>
                        <td id="T_bcad7eb4_fc11_11e9_bff9_24fd527cc727row3_col0" class="data row3 col0" >$633,238,938.02</td>
            </tr>
            <tr>
                        <th id="T_bcad7eb4_fc11_11e9_bff9_24fd527cc727level0_row4" class="row_heading level0 row4" >4</th>
                        <td id="T_bcad7eb4_fc11_11e9_bff9_24fd527cc727row4_col0" class="data row4 col0" >$728,438,286.63</td>
            </tr>
    </tbody></table>

<p>Se utiliza el método head para que devuelva solamente los primeros 5 valores de la tabla.</p>
<p>La inversión en ensayos clínicos:</p>
<div class="codehilite"><pre><span></span><span class="n">trials_cost</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">lognormal</span><span class="p">(</span><span class="n">normal_mean</span><span class="p">,</span> <span class="n">normal_std</span><span class="p">,</span> <span class="p">(</span><span class="mi">10000</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">df_trials_cost</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">trials_cost</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Trials&quot;</span><span class="p">])</span>
<span class="n">df_trials_cost</span><span class="o">.</span><span class="n">head</span><span class="p">()</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;${:,.2f}&#39;</span><span class="p">)</span>
</pre></div>

<style  type="text/css" >
</style>

<table id="T_bcc3e6fe_fc11_11e9_bff9_24fd527cc727" ><thead>    <tr>        <th class="blank level0" ></th>        <th class="col_heading level0 col0" >Trials</th>    </tr></thead><tbody>
                <tr>
                        <th id="T_bcc3e6fe_fc11_11e9_bff9_24fd527cc727level0_row0" class="row_heading level0 row0" >0</th>
                        <td id="T_bcc3e6fe_fc11_11e9_bff9_24fd527cc727row0_col0" class="data row0 col0" >$172,759,069.44</td>
            </tr>
            <tr>
                        <th id="T_bcc3e6fe_fc11_11e9_bff9_24fd527cc727level0_row1" class="row_heading level0 row1" >1</th>
                        <td id="T_bcc3e6fe_fc11_11e9_bff9_24fd527cc727row1_col0" class="data row1 col0" >$129,042,745.49</td>
            </tr>
            <tr>
                        <th id="T_bcc3e6fe_fc11_11e9_bff9_24fd527cc727level0_row2" class="row_heading level0 row2" >2</th>
                        <td id="T_bcc3e6fe_fc11_11e9_bff9_24fd527cc727row2_col0" class="data row2 col0" >$145,480,027.02</td>
            </tr>
            <tr>
                        <th id="T_bcc3e6fe_fc11_11e9_bff9_24fd527cc727level0_row3" class="row_heading level0 row3" >3</th>
                        <td id="T_bcc3e6fe_fc11_11e9_bff9_24fd527cc727row3_col0" class="data row3 col0" >$113,503,720.80</td>
            </tr>
            <tr>
                        <th id="T_bcc3e6fe_fc11_11e9_bff9_24fd527cc727level0_row4" class="row_heading level0 row4" >4</th>
                        <td id="T_bcc3e6fe_fc11_11e9_bff9_24fd527cc727row4_col0" class="data row4 col0" >$170,290,490.26</td>
            </tr>
    </tbody></table>

<p>Para simular tanto el factor de crecimiento del mercado, como la tasa de crecimiento de la cuota de mercado, se deben simular cuatro valores para cada réplica, y además añadir un cero inicial para realizar las operaciones vectorizadas.</p>
<div class="codehilite"><pre><span></span><span class="n">growth_factor</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">triangular</span><span class="p">(</span><span class="mf">0.02</span><span class="p">,</span> <span class="mf">0.03</span><span class="p">,</span> <span class="mf">0.06</span><span class="p">,</span> <span class="p">(</span><span class="mi">10000</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">growth_factor</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">hstack</span><span class="p">((</span><span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">10000</span><span class="p">,</span> <span class="mi">1</span><span class="p">)),</span> <span class="n">growth_factor</span><span class="p">))</span>
<span class="n">df_growth_factor</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">growth_factor</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;f0&quot;</span><span class="p">,</span> <span class="s2">&quot;f1&quot;</span><span class="p">,</span> <span class="s2">&quot;f2&quot;</span><span class="p">,</span> <span class="s2">&quot;f3&quot;</span><span class="p">,</span> <span class="s2">&quot;f4&quot;</span><span class="p">])</span>
<span class="n">df_growth_factor</span><span class="o">.</span><span class="n">head</span><span class="p">()</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;{:.2%}&#39;</span><span class="p">)</span>
</pre></div>

<style  type="text/css" >
</style>

<table id="T_bce27f9c_fc11_11e9_bff9_24fd527cc727" ><thead>    <tr>        <th class="blank level0" ></th>        <th class="col_heading level0 col0" >f0</th>        <th class="col_heading level0 col1" >f1</th>        <th class="col_heading level0 col2" >f2</th>        <th class="col_heading level0 col3" >f3</th>        <th class="col_heading level0 col4" >f4</th>    </tr></thead><tbody>
                <tr>
                        <th id="T_bce27f9c_fc11_11e9_bff9_24fd527cc727level0_row0" class="row_heading level0 row0" >0</th>
                        <td id="T_bce27f9c_fc11_11e9_bff9_24fd527cc727row0_col0" class="data row0 col0" >0.00%</td>
                        <td id="T_bce27f9c_fc11_11e9_bff9_24fd527cc727row0_col1" class="data row0 col1" >3.21%</td>
                        <td id="T_bce27f9c_fc11_11e9_bff9_24fd527cc727row0_col2" class="data row0 col2" >3.44%</td>
                        <td id="T_bce27f9c_fc11_11e9_bff9_24fd527cc727row0_col3" class="data row0 col3" >4.18%</td>
                        <td id="T_bce27f9c_fc11_11e9_bff9_24fd527cc727row0_col4" class="data row0 col4" >2.27%</td>
            </tr>
            <tr>
                        <th id="T_bce27f9c_fc11_11e9_bff9_24fd527cc727level0_row1" class="row_heading level0 row1" >1</th>
                        <td id="T_bce27f9c_fc11_11e9_bff9_24fd527cc727row1_col0" class="data row1 col0" >0.00%</td>
                        <td id="T_bce27f9c_fc11_11e9_bff9_24fd527cc727row1_col1" class="data row1 col1" >4.02%</td>
                        <td id="T_bce27f9c_fc11_11e9_bff9_24fd527cc727row1_col2" class="data row1 col2" >3.00%</td>
                        <td id="T_bce27f9c_fc11_11e9_bff9_24fd527cc727row1_col3" class="data row1 col3" >4.15%</td>
                        <td id="T_bce27f9c_fc11_11e9_bff9_24fd527cc727row1_col4" class="data row1 col4" >2.96%</td>
            </tr>
            <tr>
                        <th id="T_bce27f9c_fc11_11e9_bff9_24fd527cc727level0_row2" class="row_heading level0 row2" >2</th>
                        <td id="T_bce27f9c_fc11_11e9_bff9_24fd527cc727row2_col0" class="data row2 col0" >0.00%</td>
                        <td id="T_bce27f9c_fc11_11e9_bff9_24fd527cc727row2_col1" class="data row2 col1" >2.48%</td>
                        <td id="T_bce27f9c_fc11_11e9_bff9_24fd527cc727row2_col2" class="data row2 col2" >3.99%</td>
                        <td id="T_bce27f9c_fc11_11e9_bff9_24fd527cc727row2_col3" class="data row2 col3" >3.20%</td>
                        <td id="T_bce27f9c_fc11_11e9_bff9_24fd527cc727row2_col4" class="data row2 col4" >3.06%</td>
            </tr>
            <tr>
                        <th id="T_bce27f9c_fc11_11e9_bff9_24fd527cc727level0_row3" class="row_heading level0 row3" >3</th>
                        <td id="T_bce27f9c_fc11_11e9_bff9_24fd527cc727row3_col0" class="data row3 col0" >0.00%</td>
                        <td id="T_bce27f9c_fc11_11e9_bff9_24fd527cc727row3_col1" class="data row3 col1" >4.59%</td>
                        <td id="T_bce27f9c_fc11_11e9_bff9_24fd527cc727row3_col2" class="data row3 col2" >4.52%</td>
                        <td id="T_bce27f9c_fc11_11e9_bff9_24fd527cc727row3_col3" class="data row3 col3" >4.35%</td>
                        <td id="T_bce27f9c_fc11_11e9_bff9_24fd527cc727row3_col4" class="data row3 col4" >4.34%</td>
            </tr>
            <tr>
                        <th id="T_bce27f9c_fc11_11e9_bff9_24fd527cc727level0_row4" class="row_heading level0 row4" >4</th>
                        <td id="T_bce27f9c_fc11_11e9_bff9_24fd527cc727row4_col0" class="data row4 col0" >0.00%</td>
                        <td id="T_bce27f9c_fc11_11e9_bff9_24fd527cc727row4_col1" class="data row4 col1" >2.72%</td>
                        <td id="T_bce27f9c_fc11_11e9_bff9_24fd527cc727row4_col2" class="data row4 col2" >4.09%</td>
                        <td id="T_bce27f9c_fc11_11e9_bff9_24fd527cc727row4_col3" class="data row4 col3" >2.68%</td>
                        <td id="T_bce27f9c_fc11_11e9_bff9_24fd527cc727row4_col4" class="data row4 col4" >4.27%</td>
            </tr>
    </tbody></table>

<div class="codehilite"><pre><span></span><span class="n">share_growth_rate</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">triangular</span><span class="p">(</span><span class="mf">0.15</span><span class="p">,</span> <span class="mf">0.20</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">,</span> <span class="p">(</span><span class="mi">10000</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">share_growth_rate</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">hstack</span><span class="p">((</span><span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">10000</span><span class="p">,</span> <span class="mi">1</span><span class="p">)),</span> <span class="n">share_growth_rate</span><span class="p">))</span>
<span class="n">df_share_growth_rate</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">share_growth_rate</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;t0&quot;</span><span class="p">,</span> <span class="s2">&quot;t1&quot;</span><span class="p">,</span> <span class="s2">&quot;t2&quot;</span><span class="p">,</span> <span class="s2">&quot;t3&quot;</span><span class="p">,</span> <span class="s2">&quot;t4&quot;</span><span class="p">])</span>
<span class="n">df_share_growth_rate</span><span class="o">.</span><span class="n">head</span><span class="p">()</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;{:.2%}&#39;</span><span class="p">)</span>
</pre></div>

<style  type="text/css" >
</style>

<table id="T_bcfef4e2_fc11_11e9_bff9_24fd527cc727" ><thead>    <tr>        <th class="blank level0" ></th>        <th class="col_heading level0 col0" >t0</th>        <th class="col_heading level0 col1" >t1</th>        <th class="col_heading level0 col2" >t2</th>        <th class="col_heading level0 col3" >t3</th>        <th class="col_heading level0 col4" >t4</th>    </tr></thead><tbody>
                <tr>
                        <th id="T_bcfef4e2_fc11_11e9_bff9_24fd527cc727level0_row0" class="row_heading level0 row0" >0</th>
                        <td id="T_bcfef4e2_fc11_11e9_bff9_24fd527cc727row0_col0" class="data row0 col0" >0.00%</td>
                        <td id="T_bcfef4e2_fc11_11e9_bff9_24fd527cc727row0_col1" class="data row0 col1" >21.80%</td>
                        <td id="T_bcfef4e2_fc11_11e9_bff9_24fd527cc727row0_col2" class="data row0 col2" >19.84%</td>
                        <td id="T_bcfef4e2_fc11_11e9_bff9_24fd527cc727row0_col3" class="data row0 col3" >22.98%</td>
                        <td id="T_bcfef4e2_fc11_11e9_bff9_24fd527cc727row0_col4" class="data row0 col4" >20.92%</td>
            </tr>
            <tr>
                        <th id="T_bcfef4e2_fc11_11e9_bff9_24fd527cc727level0_row1" class="row_heading level0 row1" >1</th>
                        <td id="T_bcfef4e2_fc11_11e9_bff9_24fd527cc727row1_col0" class="data row1 col0" >0.00%</td>
                        <td id="T_bcfef4e2_fc11_11e9_bff9_24fd527cc727row1_col1" class="data row1 col1" >23.80%</td>
                        <td id="T_bcfef4e2_fc11_11e9_bff9_24fd527cc727row1_col2" class="data row1 col2" >18.09%</td>
                        <td id="T_bcfef4e2_fc11_11e9_bff9_24fd527cc727row1_col3" class="data row1 col3" >21.24%</td>
                        <td id="T_bcfef4e2_fc11_11e9_bff9_24fd527cc727row1_col4" class="data row1 col4" >18.40%</td>
            </tr>
            <tr>
                        <th id="T_bcfef4e2_fc11_11e9_bff9_24fd527cc727level0_row2" class="row_heading level0 row2" >2</th>
                        <td id="T_bcfef4e2_fc11_11e9_bff9_24fd527cc727row2_col0" class="data row2 col0" >0.00%</td>
                        <td id="T_bcfef4e2_fc11_11e9_bff9_24fd527cc727row2_col1" class="data row2 col1" >16.64%</td>
                        <td id="T_bcfef4e2_fc11_11e9_bff9_24fd527cc727row2_col2" class="data row2 col2" >17.66%</td>
                        <td id="T_bcfef4e2_fc11_11e9_bff9_24fd527cc727row2_col3" class="data row2 col3" >19.28%</td>
                        <td id="T_bcfef4e2_fc11_11e9_bff9_24fd527cc727row2_col4" class="data row2 col4" >20.41%</td>
            </tr>
            <tr>
                        <th id="T_bcfef4e2_fc11_11e9_bff9_24fd527cc727level0_row3" class="row_heading level0 row3" >3</th>
                        <td id="T_bcfef4e2_fc11_11e9_bff9_24fd527cc727row3_col0" class="data row3 col0" >0.00%</td>
                        <td id="T_bcfef4e2_fc11_11e9_bff9_24fd527cc727row3_col1" class="data row3 col1" >19.95%</td>
                        <td id="T_bcfef4e2_fc11_11e9_bff9_24fd527cc727row3_col2" class="data row3 col2" >18.58%</td>
                        <td id="T_bcfef4e2_fc11_11e9_bff9_24fd527cc727row3_col3" class="data row3 col3" >19.04%</td>
                        <td id="T_bcfef4e2_fc11_11e9_bff9_24fd527cc727row3_col4" class="data row3 col4" >20.37%</td>
            </tr>
            <tr>
                        <th id="T_bcfef4e2_fc11_11e9_bff9_24fd527cc727level0_row4" class="row_heading level0 row4" >4</th>
                        <td id="T_bcfef4e2_fc11_11e9_bff9_24fd527cc727row4_col0" class="data row4 col0" >0.00%</td>
                        <td id="T_bcfef4e2_fc11_11e9_bff9_24fd527cc727row4_col1" class="data row4 col1" >22.21%</td>
                        <td id="T_bcfef4e2_fc11_11e9_bff9_24fd527cc727row4_col2" class="data row4 col2" >21.86%</td>
                        <td id="T_bcfef4e2_fc11_11e9_bff9_24fd527cc727row4_col3" class="data row4 col3" >24.01%</td>
                        <td id="T_bcfef4e2_fc11_11e9_bff9_24fd527cc727row4_col4" class="data row4 col4" >20.12%</td>
            </tr>
    </tbody></table>

<p>A continuación, para calcular el crecimiento del mercado utilizando los factores de crecimiento recién generados, utilizamos la misma expresión indicada arriba con el detalle de añadir el parámetro <code class="codehilite"><span class="n">axis</span><span class="o">=</span><span class="mi">1</span></code> para realizar la multiplicación fila por fila.</p>
<div class="codehilite"><pre><span></span><span class="n">market_growth</span> <span class="o">=</span> <span class="n">market_size</span> <span class="o">*</span> <span class="p">(</span><span class="n">growth_factor</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">cumprod</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">df_market_growth</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">market_growth</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;M0&quot;</span><span class="p">,</span> <span class="s2">&quot;M1&quot;</span><span class="p">,</span> <span class="s2">&quot;M2&quot;</span><span class="p">,</span> <span class="s2">&quot;M3&quot;</span><span class="p">,</span> <span class="s2">&quot;M4&quot;</span><span class="p">])</span>
<span class="n">df_market_growth</span><span class="o">.</span><span class="n">head</span><span class="p">()</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;{:,.2f}&#39;</span><span class="p">)</span>
</pre></div>

<style  type="text/css" >
</style>

<table id="T_bd93824c_fc11_11e9_bff9_24fd527cc727" ><thead>    <tr>        <th class="blank level0" ></th>        <th class="col_heading level0 col0" >M0</th>        <th class="col_heading level0 col1" >M1</th>        <th class="col_heading level0 col2" >M2</th>        <th class="col_heading level0 col3" >M3</th>        <th class="col_heading level0 col4" >M4</th>    </tr></thead><tbody>
                <tr>
                        <th id="T_bd93824c_fc11_11e9_bff9_24fd527cc727level0_row0" class="row_heading level0 row0" >0</th>
                        <td id="T_bd93824c_fc11_11e9_bff9_24fd527cc727row0_col0" class="data row0 col0" >1,576,347.06</td>
                        <td id="T_bd93824c_fc11_11e9_bff9_24fd527cc727row0_col1" class="data row0 col1" >1,626,933.50</td>
                        <td id="T_bd93824c_fc11_11e9_bff9_24fd527cc727row0_col2" class="data row0 col2" >1,682,876.75</td>
                        <td id="T_bd93824c_fc11_11e9_bff9_24fd527cc727row0_col3" class="data row0 col3" >1,753,187.54</td>
                        <td id="T_bd93824c_fc11_11e9_bff9_24fd527cc727row0_col4" class="data row0 col4" >1,792,987.95</td>
            </tr>
            <tr>
                        <th id="T_bd93824c_fc11_11e9_bff9_24fd527cc727level0_row1" class="row_heading level0 row1" >1</th>
                        <td id="T_bd93824c_fc11_11e9_bff9_24fd527cc727row1_col0" class="data row1 col0" >2,107,124.22</td>
                        <td id="T_bd93824c_fc11_11e9_bff9_24fd527cc727row1_col1" class="data row1 col1" >2,191,755.42</td>
                        <td id="T_bd93824c_fc11_11e9_bff9_24fd527cc727row1_col2" class="data row1 col2" >2,257,480.94</td>
                        <td id="T_bd93824c_fc11_11e9_bff9_24fd527cc727row1_col3" class="data row1 col3" >2,351,274.88</td>
                        <td id="T_bd93824c_fc11_11e9_bff9_24fd527cc727row1_col4" class="data row1 col4" >2,420,921.68</td>
            </tr>
            <tr>
                        <th id="T_bd93824c_fc11_11e9_bff9_24fd527cc727level0_row2" class="row_heading level0 row2" >2</th>
                        <td id="T_bd93824c_fc11_11e9_bff9_24fd527cc727row2_col0" class="data row2 col0" >2,278,867.44</td>
                        <td id="T_bd93824c_fc11_11e9_bff9_24fd527cc727row2_col1" class="data row2 col1" >2,335,424.35</td>
                        <td id="T_bd93824c_fc11_11e9_bff9_24fd527cc727row2_col2" class="data row2 col2" >2,428,542.84</td>
                        <td id="T_bd93824c_fc11_11e9_bff9_24fd527cc727row2_col3" class="data row2 col3" >2,506,192.24</td>
                        <td id="T_bd93824c_fc11_11e9_bff9_24fd527cc727row2_col4" class="data row2 col4" >2,582,805.88</td>
            </tr>
            <tr>
                        <th id="T_bd93824c_fc11_11e9_bff9_24fd527cc727level0_row3" class="row_heading level0 row3" >3</th>
                        <td id="T_bd93824c_fc11_11e9_bff9_24fd527cc727row3_col0" class="data row3 col0" >1,401,270.50</td>
                        <td id="T_bd93824c_fc11_11e9_bff9_24fd527cc727row3_col1" class="data row3 col1" >1,465,578.85</td>
                        <td id="T_bd93824c_fc11_11e9_bff9_24fd527cc727row3_col2" class="data row3 col2" >1,531,866.95</td>
                        <td id="T_bd93824c_fc11_11e9_bff9_24fd527cc727row3_col3" class="data row3 col3" >1,598,555.58</td>
                        <td id="T_bd93824c_fc11_11e9_bff9_24fd527cc727row3_col4" class="data row3 col4" >1,667,902.47</td>
            </tr>
            <tr>
                        <th id="T_bd93824c_fc11_11e9_bff9_24fd527cc727level0_row4" class="row_heading level0 row4" >4</th>
                        <td id="T_bd93824c_fc11_11e9_bff9_24fd527cc727row4_col0" class="data row4 col0" >2,078,883.64</td>
                        <td id="T_bd93824c_fc11_11e9_bff9_24fd527cc727row4_col1" class="data row4 col1" >2,135,508.84</td>
                        <td id="T_bd93824c_fc11_11e9_bff9_24fd527cc727row4_col2" class="data row4 col2" >2,222,747.11</td>
                        <td id="T_bd93824c_fc11_11e9_bff9_24fd527cc727row4_col3" class="data row4 col3" >2,282,276.45</td>
                        <td id="T_bd93824c_fc11_11e9_bff9_24fd527cc727row4_col4" class="data row4 col4" >2,379,779.90</td>
            </tr>
    </tbody></table>

<p>Para realizar la simulación del crecimiento de la cuota de mercado creamos antes un vector columna con los valores de la cuota de mercado inicial.</p>
<div class="codehilite"><pre><span></span><span class="n">market_share</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">tile</span><span class="p">(</span><span class="mf">0.08</span><span class="p">,</span> <span class="p">(</span><span class="mi">10000</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">share_growth</span> <span class="o">=</span> <span class="n">market_share</span> <span class="o">*</span> <span class="p">(</span><span class="n">share_growth_rate</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">cumprod</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">df_share_growth</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">share_growth</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Q0&quot;</span><span class="p">,</span> <span class="s2">&quot;Q1&quot;</span><span class="p">,</span> <span class="s2">&quot;Q2&quot;</span><span class="p">,</span> <span class="s2">&quot;Q3&quot;</span><span class="p">,</span> <span class="s2">&quot;Q4&quot;</span><span class="p">])</span>
<span class="n">df_share_growth</span><span class="o">.</span><span class="n">head</span><span class="p">()</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;{:.2%}&#39;</span><span class="p">)</span>
</pre></div>

<style  type="text/css" >
</style>

<table id="T_bdabe940_fc11_11e9_bff9_24fd527cc727" ><thead>    <tr>        <th class="blank level0" ></th>        <th class="col_heading level0 col0" >Q0</th>        <th class="col_heading level0 col1" >Q1</th>        <th class="col_heading level0 col2" >Q2</th>        <th class="col_heading level0 col3" >Q3</th>        <th class="col_heading level0 col4" >Q4</th>    </tr></thead><tbody>
                <tr>
                        <th id="T_bdabe940_fc11_11e9_bff9_24fd527cc727level0_row0" class="row_heading level0 row0" >0</th>
                        <td id="T_bdabe940_fc11_11e9_bff9_24fd527cc727row0_col0" class="data row0 col0" >8.00%</td>
                        <td id="T_bdabe940_fc11_11e9_bff9_24fd527cc727row0_col1" class="data row0 col1" >9.74%</td>
                        <td id="T_bdabe940_fc11_11e9_bff9_24fd527cc727row0_col2" class="data row0 col2" >11.68%</td>
                        <td id="T_bdabe940_fc11_11e9_bff9_24fd527cc727row0_col3" class="data row0 col3" >14.36%</td>
                        <td id="T_bdabe940_fc11_11e9_bff9_24fd527cc727row0_col4" class="data row0 col4" >17.36%</td>
            </tr>
            <tr>
                        <th id="T_bdabe940_fc11_11e9_bff9_24fd527cc727level0_row1" class="row_heading level0 row1" >1</th>
                        <td id="T_bdabe940_fc11_11e9_bff9_24fd527cc727row1_col0" class="data row1 col0" >8.00%</td>
                        <td id="T_bdabe940_fc11_11e9_bff9_24fd527cc727row1_col1" class="data row1 col1" >9.90%</td>
                        <td id="T_bdabe940_fc11_11e9_bff9_24fd527cc727row1_col2" class="data row1 col2" >11.70%</td>
                        <td id="T_bdabe940_fc11_11e9_bff9_24fd527cc727row1_col3" class="data row1 col3" >14.18%</td>
                        <td id="T_bdabe940_fc11_11e9_bff9_24fd527cc727row1_col4" class="data row1 col4" >16.79%</td>
            </tr>
            <tr>
                        <th id="T_bdabe940_fc11_11e9_bff9_24fd527cc727level0_row2" class="row_heading level0 row2" >2</th>
                        <td id="T_bdabe940_fc11_11e9_bff9_24fd527cc727row2_col0" class="data row2 col0" >8.00%</td>
                        <td id="T_bdabe940_fc11_11e9_bff9_24fd527cc727row2_col1" class="data row2 col1" >9.33%</td>
                        <td id="T_bdabe940_fc11_11e9_bff9_24fd527cc727row2_col2" class="data row2 col2" >10.98%</td>
                        <td id="T_bdabe940_fc11_11e9_bff9_24fd527cc727row2_col3" class="data row2 col3" >13.10%</td>
                        <td id="T_bdabe940_fc11_11e9_bff9_24fd527cc727row2_col4" class="data row2 col4" >15.77%</td>
            </tr>
            <tr>
                        <th id="T_bdabe940_fc11_11e9_bff9_24fd527cc727level0_row3" class="row_heading level0 row3" >3</th>
                        <td id="T_bdabe940_fc11_11e9_bff9_24fd527cc727row3_col0" class="data row3 col0" >8.00%</td>
                        <td id="T_bdabe940_fc11_11e9_bff9_24fd527cc727row3_col1" class="data row3 col1" >9.60%</td>
                        <td id="T_bdabe940_fc11_11e9_bff9_24fd527cc727row3_col2" class="data row3 col2" >11.38%</td>
                        <td id="T_bdabe940_fc11_11e9_bff9_24fd527cc727row3_col3" class="data row3 col3" >13.55%</td>
                        <td id="T_bdabe940_fc11_11e9_bff9_24fd527cc727row3_col4" class="data row3 col4" >16.31%</td>
            </tr>
            <tr>
                        <th id="T_bdabe940_fc11_11e9_bff9_24fd527cc727level0_row4" class="row_heading level0 row4" >4</th>
                        <td id="T_bdabe940_fc11_11e9_bff9_24fd527cc727row4_col0" class="data row4 col0" >8.00%</td>
                        <td id="T_bdabe940_fc11_11e9_bff9_24fd527cc727row4_col1" class="data row4 col1" >9.78%</td>
                        <td id="T_bdabe940_fc11_11e9_bff9_24fd527cc727row4_col2" class="data row4 col2" >11.91%</td>
                        <td id="T_bdabe940_fc11_11e9_bff9_24fd527cc727row4_col3" class="data row4 col3" >14.77%</td>
                        <td id="T_bdabe940_fc11_11e9_bff9_24fd527cc727row4_col4" class="data row4 col4" >17.75%</td>
            </tr>
    </tbody></table>

<p>Los cálculos de las ventas, ingresos, costos y beneficios se mantienen idénticos:</p>
<div class="codehilite"><pre><span></span><span class="n">sales</span> <span class="o">=</span> <span class="n">market_growth</span> <span class="o">*</span> <span class="n">share_growth</span>
<span class="n">annual_revenue</span> <span class="o">=</span> <span class="n">sales</span> <span class="o">*</span> <span class="n">unit_revenue</span> <span class="o">*</span> <span class="mi">12</span>
<span class="n">annual_costs</span> <span class="o">=</span> <span class="n">sales</span> <span class="o">*</span> <span class="n">unit_cost</span> <span class="o">*</span> <span class="mi">12</span>
<span class="n">profit</span> <span class="o">=</span> <span class="n">annual_revenue</span> <span class="o">-</span> <span class="n">annual_costs</span>
<span class="n">total_costs</span> <span class="o">=</span> <span class="n">rd_cost</span> <span class="o">+</span> <span class="n">trials_cost</span>
<span class="n">df_sales</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">sales</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;S0&quot;</span><span class="p">,</span> <span class="s2">&quot;S1&quot;</span><span class="p">,</span> <span class="s2">&quot;S2&quot;</span><span class="p">,</span> <span class="s2">&quot;S3&quot;</span><span class="p">,</span> <span class="s2">&quot;S4&quot;</span><span class="p">])</span>
<span class="n">df_sales</span><span class="o">.</span><span class="n">head</span><span class="p">()</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;${:,.2f}&#39;</span><span class="p">)</span>
</pre></div>

<style  type="text/css" >
</style>

<table id="T_bdc299f6_fc11_11e9_bff9_24fd527cc727" ><thead>    <tr>        <th class="blank level0" ></th>        <th class="col_heading level0 col0" >S0</th>        <th class="col_heading level0 col1" >S1</th>        <th class="col_heading level0 col2" >S2</th>        <th class="col_heading level0 col3" >S3</th>        <th class="col_heading level0 col4" >S4</th>    </tr></thead><tbody>
                <tr>
                        <th id="T_bdc299f6_fc11_11e9_bff9_24fd527cc727level0_row0" class="row_heading level0 row0" >0</th>
                        <td id="T_bdc299f6_fc11_11e9_bff9_24fd527cc727row0_col0" class="data row0 col0" >$126,107.77</td>
                        <td id="T_bdc299f6_fc11_11e9_bff9_24fd527cc727row0_col1" class="data row0 col1" >$158,528.69</td>
                        <td id="T_bdc299f6_fc11_11e9_bff9_24fd527cc727row0_col2" class="data row0 col2" >$196,519.67</td>
                        <td id="T_bdc299f6_fc11_11e9_bff9_24fd527cc727row0_col3" class="data row0 col3" >$251,769.77</td>
                        <td id="T_bdc299f6_fc11_11e9_bff9_24fd527cc727row0_col4" class="data row0 col4" >$311,352.24</td>
            </tr>
            <tr>
                        <th id="T_bdc299f6_fc11_11e9_bff9_24fd527cc727level0_row1" class="row_heading level0 row1" >1</th>
                        <td id="T_bdc299f6_fc11_11e9_bff9_24fd527cc727row1_col0" class="data row1 col0" >$168,569.94</td>
                        <td id="T_bdc299f6_fc11_11e9_bff9_24fd527cc727row1_col1" class="data row1 col1" >$217,073.29</td>
                        <td id="T_bdc299f6_fc11_11e9_bff9_24fd527cc727row1_col2" class="data row1 col2" >$264,028.52</td>
                        <td id="T_bdc299f6_fc11_11e9_bff9_24fd527cc727row1_col3" class="data row1 col3" >$333,415.62</td>
                        <td id="T_bdc299f6_fc11_11e9_bff9_24fd527cc727row1_col4" class="data row1 col4" >$406,447.68</td>
            </tr>
            <tr>
                        <th id="T_bdc299f6_fc11_11e9_bff9_24fd527cc727level0_row2" class="row_heading level0 row2" >2</th>
                        <td id="T_bdc299f6_fc11_11e9_bff9_24fd527cc727row2_col0" class="data row2 col0" >$182,309.40</td>
                        <td id="T_bdc299f6_fc11_11e9_bff9_24fd527cc727row2_col1" class="data row2 col1" >$217,920.80</td>
                        <td id="T_bdc299f6_fc11_11e9_bff9_24fd527cc727row2_col2" class="data row2 col2" >$266,633.73</td>
                        <td id="T_bdc299f6_fc11_11e9_bff9_24fd527cc727row2_col3" class="data row2 col3" >$328,219.02</td>
                        <td id="T_bdc299f6_fc11_11e9_bff9_24fd527cc727row2_col4" class="data row2 col4" >$407,293.69</td>
            </tr>
            <tr>
                        <th id="T_bdc299f6_fc11_11e9_bff9_24fd527cc727level0_row3" class="row_heading level0 row3" >3</th>
                        <td id="T_bdc299f6_fc11_11e9_bff9_24fd527cc727row3_col0" class="data row3 col0" >$112,101.64</td>
                        <td id="T_bdc299f6_fc11_11e9_bff9_24fd527cc727row3_col1" class="data row3 col1" >$140,642.32</td>
                        <td id="T_bdc299f6_fc11_11e9_bff9_24fd527cc727row3_col2" class="data row3 col2" >$174,315.42</td>
                        <td id="T_bdc299f6_fc11_11e9_bff9_24fd527cc727row3_col3" class="data row3 col3" >$216,547.31</td>
                        <td id="T_bdc299f6_fc11_11e9_bff9_24fd527cc727row3_col4" class="data row3 col4" >$271,958.99</td>
            </tr>
            <tr>
                        <th id="T_bdc299f6_fc11_11e9_bff9_24fd527cc727level0_row4" class="row_heading level0 row4" >4</th>
                        <td id="T_bdc299f6_fc11_11e9_bff9_24fd527cc727row4_col0" class="data row4 col0" >$166,310.69</td>
                        <td id="T_bdc299f6_fc11_11e9_bff9_24fd527cc727row4_col1" class="data row4 col1" >$208,775.92</td>
                        <td id="T_bdc299f6_fc11_11e9_bff9_24fd527cc727row4_col2" class="data row4 col2" >$264,815.36</td>
                        <td id="T_bdc299f6_fc11_11e9_bff9_24fd527cc727row4_col3" class="data row4 col3" >$337,203.85</td>
                        <td id="T_bdc299f6_fc11_11e9_bff9_24fd527cc727row4_col4" class="data row4 col4" >$422,360.29</td>
            </tr>
    </tbody></table>

<div class="codehilite"><pre><span></span><span class="n">df_annual_revenue</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">annual_revenue</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;IA0&quot;</span><span class="p">,</span> <span class="s2">&quot;IA1&quot;</span><span class="p">,</span> <span class="s2">&quot;IA2&quot;</span><span class="p">,</span> <span class="s2">&quot;IA3&quot;</span><span class="p">,</span> <span class="s2">&quot;IA4&quot;</span><span class="p">])</span>
<span class="n">df_annual_revenue</span><span class="o">.</span><span class="n">head</span><span class="p">()</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;${:,.2f}&#39;</span><span class="p">)</span>
</pre></div>

<style  type="text/css" >
</style>

<table id="T_bdd88798_fc11_11e9_bff9_24fd527cc727" ><thead>    <tr>        <th class="blank level0" ></th>        <th class="col_heading level0 col0" >IA0</th>        <th class="col_heading level0 col1" >IA1</th>        <th class="col_heading level0 col2" >IA2</th>        <th class="col_heading level0 col3" >IA3</th>        <th class="col_heading level0 col4" >IA4</th>    </tr></thead><tbody>
                <tr>
                        <th id="T_bdd88798_fc11_11e9_bff9_24fd527cc727level0_row0" class="row_heading level0 row0" >0</th>
                        <td id="T_bdd88798_fc11_11e9_bff9_24fd527cc727row0_col0" class="data row0 col0" >$196,728,113.68</td>
                        <td id="T_bdd88798_fc11_11e9_bff9_24fd527cc727row0_col1" class="data row0 col1" >$247,304,755.63</td>
                        <td id="T_bdd88798_fc11_11e9_bff9_24fd527cc727row0_col2" class="data row0 col2" >$306,570,686.63</td>
                        <td id="T_bdd88798_fc11_11e9_bff9_24fd527cc727row0_col3" class="data row0 col3" >$392,760,845.11</td>
                        <td id="T_bdd88798_fc11_11e9_bff9_24fd527cc727row0_col4" class="data row0 col4" >$485,709,490.98</td>
            </tr>
            <tr>
                        <th id="T_bdd88798_fc11_11e9_bff9_24fd527cc727level0_row1" class="row_heading level0 row1" >1</th>
                        <td id="T_bdd88798_fc11_11e9_bff9_24fd527cc727row1_col0" class="data row1 col0" >$262,969,102.48</td>
                        <td id="T_bdd88798_fc11_11e9_bff9_24fd527cc727row1_col1" class="data row1 col1" >$338,634,338.34</td>
                        <td id="T_bdd88798_fc11_11e9_bff9_24fd527cc727row1_col2" class="data row1 col2" >$411,884,487.64</td>
                        <td id="T_bdd88798_fc11_11e9_bff9_24fd527cc727row1_col3" class="data row1 col3" >$520,128,360.38</td>
                        <td id="T_bdd88798_fc11_11e9_bff9_24fd527cc727row1_col4" class="data row1 col4" >$634,058,383.39</td>
            </tr>
            <tr>
                        <th id="T_bdd88798_fc11_11e9_bff9_24fd527cc727level0_row2" class="row_heading level0 row2" >2</th>
                        <td id="T_bdd88798_fc11_11e9_bff9_24fd527cc727row2_col0" class="data row2 col0" >$284,402,656.33</td>
                        <td id="T_bdd88798_fc11_11e9_bff9_24fd527cc727row2_col1" class="data row2 col1" >$339,956,445.64</td>
                        <td id="T_bdd88798_fc11_11e9_bff9_24fd527cc727row2_col2" class="data row2 col2" >$415,948,626.58</td>
                        <td id="T_bdd88798_fc11_11e9_bff9_24fd527cc727row2_col3" class="data row2 col3" >$512,021,667.16</td>
                        <td id="T_bdd88798_fc11_11e9_bff9_24fd527cc727row2_col4" class="data row2 col4" >$635,378,160.72</td>
            </tr>
            <tr>
                        <th id="T_bdd88798_fc11_11e9_bff9_24fd527cc727level0_row3" class="row_heading level0 row3" >3</th>
                        <td id="T_bdd88798_fc11_11e9_bff9_24fd527cc727row3_col0" class="data row3 col0" >$174,878,558.10</td>
                        <td id="T_bdd88798_fc11_11e9_bff9_24fd527cc727row3_col1" class="data row3 col1" >$219,402,026.90</td>
                        <td id="T_bdd88798_fc11_11e9_bff9_24fd527cc727row3_col2" class="data row3 col2" >$271,932,061.34</td>
                        <td id="T_bdd88798_fc11_11e9_bff9_24fd527cc727row3_col3" class="data row3 col3" >$337,813,809.52</td>
                        <td id="T_bdd88798_fc11_11e9_bff9_24fd527cc727row3_col4" class="data row3 col4" >$424,256,022.89</td>
            </tr>
            <tr>
                        <th id="T_bdd88798_fc11_11e9_bff9_24fd527cc727level0_row4" class="row_heading level0 row4" >4</th>
                        <td id="T_bdd88798_fc11_11e9_bff9_24fd527cc727row4_col0" class="data row4 col0" >$259,444,678.44</td>
                        <td id="T_bdd88798_fc11_11e9_bff9_24fd527cc727row4_col1" class="data row4 col1" >$325,690,430.81</td>
                        <td id="T_bdd88798_fc11_11e9_bff9_24fd527cc727row4_col2" class="data row4 col2" >$413,111,956.27</td>
                        <td id="T_bdd88798_fc11_11e9_bff9_24fd527cc727row4_col3" class="data row4 col3" >$526,038,011.25</td>
                        <td id="T_bdd88798_fc11_11e9_bff9_24fd527cc727row4_col4" class="data row4 col4" >$658,882,059.61</td>
            </tr>
    </tbody></table>

<div class="codehilite"><pre><span></span><span class="n">df_annual_costs</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">annual_costs</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;CA0&quot;</span><span class="p">,</span> <span class="s2">&quot;CA1&quot;</span><span class="p">,</span> <span class="s2">&quot;CA2&quot;</span><span class="p">,</span> <span class="s2">&quot;CA3&quot;</span><span class="p">,</span> <span class="s2">&quot;CA4&quot;</span><span class="p">])</span>
<span class="n">df_annual_costs</span><span class="o">.</span><span class="n">head</span><span class="p">()</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;${:,.2f}&#39;</span><span class="p">)</span>
</pre></div>

<style  type="text/css" >
</style>

<table id="T_bdf99546_fc11_11e9_bff9_24fd527cc727" ><thead>    <tr>        <th class="blank level0" ></th>        <th class="col_heading level0 col0" >CA0</th>        <th class="col_heading level0 col1" >CA1</th>        <th class="col_heading level0 col2" >CA2</th>        <th class="col_heading level0 col3" >CA3</th>        <th class="col_heading level0 col4" >CA4</th>    </tr></thead><tbody>
                <tr>
                        <th id="T_bdf99546_fc11_11e9_bff9_24fd527cc727level0_row0" class="row_heading level0 row0" >0</th>
                        <td id="T_bdf99546_fc11_11e9_bff9_24fd527cc727row0_col0" class="data row0 col0" >$60,531,727.29</td>
                        <td id="T_bdf99546_fc11_11e9_bff9_24fd527cc727row0_col1" class="data row0 col1" >$76,093,770.96</td>
                        <td id="T_bdf99546_fc11_11e9_bff9_24fd527cc727row0_col2" class="data row0 col2" >$94,329,442.04</td>
                        <td id="T_bdf99546_fc11_11e9_bff9_24fd527cc727row0_col3" class="data row0 col3" >$120,849,490.80</td>
                        <td id="T_bdf99546_fc11_11e9_bff9_24fd527cc727row0_col4" class="data row0 col4" >$149,449,074.15</td>
            </tr>
            <tr>
                        <th id="T_bdf99546_fc11_11e9_bff9_24fd527cc727level0_row1" class="row_heading level0 row1" >1</th>
                        <td id="T_bdf99546_fc11_11e9_bff9_24fd527cc727row1_col0" class="data row1 col0" >$80,913,569.99</td>
                        <td id="T_bdf99546_fc11_11e9_bff9_24fd527cc727row1_col1" class="data row1 col1" >$104,195,181.03</td>
                        <td id="T_bdf99546_fc11_11e9_bff9_24fd527cc727row1_col2" class="data row1 col2" >$126,733,688.50</td>
                        <td id="T_bdf99546_fc11_11e9_bff9_24fd527cc727row1_col3" class="data row1 col3" >$160,039,495.50</td>
                        <td id="T_bdf99546_fc11_11e9_bff9_24fd527cc727row1_col4" class="data row1 col4" >$195,094,887.20</td>
            </tr>
            <tr>
                        <th id="T_bdf99546_fc11_11e9_bff9_24fd527cc727level0_row2" class="row_heading level0 row2" >2</th>
                        <td id="T_bdf99546_fc11_11e9_bff9_24fd527cc727row2_col0" class="data row2 col0" >$87,508,509.64</td>
                        <td id="T_bdf99546_fc11_11e9_bff9_24fd527cc727row2_col1" class="data row2 col1" >$104,601,983.27</td>
                        <td id="T_bdf99546_fc11_11e9_bff9_24fd527cc727row2_col2" class="data row2 col2" >$127,984,192.79</td>
                        <td id="T_bdf99546_fc11_11e9_bff9_24fd527cc727row2_col3" class="data row2 col3" >$157,545,128.36</td>
                        <td id="T_bdf99546_fc11_11e9_bff9_24fd527cc727row2_col4" class="data row2 col4" >$195,500,972.53</td>
            </tr>
            <tr>
                        <th id="T_bdf99546_fc11_11e9_bff9_24fd527cc727level0_row3" class="row_heading level0 row3" >3</th>
                        <td id="T_bdf99546_fc11_11e9_bff9_24fd527cc727row3_col0" class="data row3 col0" >$53,808,787.11</td>
                        <td id="T_bdf99546_fc11_11e9_bff9_24fd527cc727row3_col1" class="data row3 col1" >$67,508,315.97</td>
                        <td id="T_bdf99546_fc11_11e9_bff9_24fd527cc727row3_col2" class="data row3 col2" >$83,671,403.49</td>
                        <td id="T_bdf99546_fc11_11e9_bff9_24fd527cc727row3_col3" class="data row3 col3" >$103,942,710.62</td>
                        <td id="T_bdf99546_fc11_11e9_bff9_24fd527cc727row3_col4" class="data row3 col4" >$130,540,314.74</td>
            </tr>
            <tr>
                        <th id="T_bdf99546_fc11_11e9_bff9_24fd527cc727level0_row4" class="row_heading level0 row4" >4</th>
                        <td id="T_bdf99546_fc11_11e9_bff9_24fd527cc727row4_col0" class="data row4 col0" >$79,829,131.83</td>
                        <td id="T_bdf99546_fc11_11e9_bff9_24fd527cc727row4_col1" class="data row4 col1" >$100,212,440.25</td>
                        <td id="T_bdf99546_fc11_11e9_bff9_24fd527cc727row4_col2" class="data row4 col2" >$127,111,371.16</td>
                        <td id="T_bdf99546_fc11_11e9_bff9_24fd527cc727row4_col3" class="data row4 col3" >$161,857,849.61</td>
                        <td id="T_bdf99546_fc11_11e9_bff9_24fd527cc727row4_col4" class="data row4 col4" >$202,732,941.42</td>
            </tr>
    </tbody></table>

<p>El cálculo del beneficio neto acumulado solamente requiere de tener cuidado con que las operaciones sean por filas.</p>
<div class="codehilite"><pre><span></span><span class="n">net_profit</span> <span class="o">=</span> <span class="n">profit</span><span class="o">.</span><span class="n">cumsum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span> <span class="o">-</span> <span class="n">total_costs</span>
<span class="n">df_net_profit</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">net_profit</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;BNA0&quot;</span><span class="p">,</span> <span class="s2">&quot;BNA1&quot;</span><span class="p">,</span> <span class="s2">&quot;BNA2&quot;</span><span class="p">,</span> <span class="s2">&quot;BNA3&quot;</span><span class="p">,</span> <span class="s2">&quot;BNA4&quot;</span><span class="p">])</span>
<span class="n">df_net_profit</span><span class="o">.</span><span class="n">head</span><span class="p">()</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;${:,.2f}&#39;</span><span class="p">)</span>
</pre></div>

<style  type="text/css" >
</style>

<table id="T_be1154a6_fc11_11e9_bff9_24fd527cc727" ><thead>    <tr>        <th class="blank level0" ></th>        <th class="col_heading level0 col0" >BNA0</th>        <th class="col_heading level0 col1" >BNA1</th>        <th class="col_heading level0 col2" >BNA2</th>        <th class="col_heading level0 col3" >BNA3</th>        <th class="col_heading level0 col4" >BNA4</th>    </tr></thead><tbody>
                <tr>
                        <th id="T_be1154a6_fc11_11e9_bff9_24fd527cc727level0_row0" class="row_heading level0 row0" >0</th>
                        <td id="T_be1154a6_fc11_11e9_bff9_24fd527cc727row0_col0" class="data row0 col0" >$-717,952,800.57</td>
                        <td id="T_be1154a6_fc11_11e9_bff9_24fd527cc727row0_col1" class="data row0 col1" >$-546,741,815.90</td>
                        <td id="T_be1154a6_fc11_11e9_bff9_24fd527cc727row0_col2" class="data row0 col2" >$-334,500,571.31</td>
                        <td id="T_be1154a6_fc11_11e9_bff9_24fd527cc727row0_col3" class="data row0 col3" >$-62,589,217.00</td>
                        <td id="T_be1154a6_fc11_11e9_bff9_24fd527cc727row0_col4" class="data row0 col4" >$273,671,199.83</td>
            </tr>
            <tr>
                        <th id="T_be1154a6_fc11_11e9_bff9_24fd527cc727level0_row1" class="row_heading level0 row1" >1</th>
                        <td id="T_be1154a6_fc11_11e9_bff9_24fd527cc727row1_col0" class="data row1 col0" >$-729,303,491.39</td>
                        <td id="T_be1154a6_fc11_11e9_bff9_24fd527cc727row1_col1" class="data row1 col1" >$-494,864,334.07</td>
                        <td id="T_be1154a6_fc11_11e9_bff9_24fd527cc727row1_col2" class="data row1 col2" >$-209,713,534.94</td>
                        <td id="T_be1154a6_fc11_11e9_bff9_24fd527cc727row1_col3" class="data row1 col3" >$150,375,329.94</td>
                        <td id="T_be1154a6_fc11_11e9_bff9_24fd527cc727row1_col4" class="data row1 col4" >$589,338,826.13</td>
            </tr>
            <tr>
                        <th id="T_be1154a6_fc11_11e9_bff9_24fd527cc727level0_row2" class="row_heading level0 row2" >2</th>
                        <td id="T_be1154a6_fc11_11e9_bff9_24fd527cc727row2_col0" class="data row2 col0" >$-551,016,693.27</td>
                        <td id="T_be1154a6_fc11_11e9_bff9_24fd527cc727row2_col1" class="data row2 col1" >$-315,662,230.91</td>
                        <td id="T_be1154a6_fc11_11e9_bff9_24fd527cc727row2_col2" class="data row2 col2" >$-27,697,797.12</td>
                        <td id="T_be1154a6_fc11_11e9_bff9_24fd527cc727row2_col3" class="data row2 col3" >$326,778,741.68</td>
                        <td id="T_be1154a6_fc11_11e9_bff9_24fd527cc727row2_col4" class="data row2 col4" >$766,655,929.88</td>
            </tr>
            <tr>
                        <th id="T_be1154a6_fc11_11e9_bff9_24fd527cc727level0_row3" class="row_heading level0 row3" >3</th>
                        <td id="T_be1154a6_fc11_11e9_bff9_24fd527cc727row3_col0" class="data row3 col0" >$-625,672,887.83</td>
                        <td id="T_be1154a6_fc11_11e9_bff9_24fd527cc727row3_col1" class="data row3 col1" >$-473,779,176.90</td>
                        <td id="T_be1154a6_fc11_11e9_bff9_24fd527cc727row3_col2" class="data row3 col2" >$-285,518,519.05</td>
                        <td id="T_be1154a6_fc11_11e9_bff9_24fd527cc727row3_col3" class="data row3 col3" >$-51,647,420.15</td>
                        <td id="T_be1154a6_fc11_11e9_bff9_24fd527cc727row3_col4" class="data row3 col4" >$242,068,288.01</td>
            </tr>
            <tr>
                        <th id="T_be1154a6_fc11_11e9_bff9_24fd527cc727level0_row4" class="row_heading level0 row4" >4</th>
                        <td id="T_be1154a6_fc11_11e9_bff9_24fd527cc727row4_col0" class="data row4 col0" >$-719,113,230.28</td>
                        <td id="T_be1154a6_fc11_11e9_bff9_24fd527cc727row4_col1" class="data row4 col1" >$-493,635,239.72</td>
                        <td id="T_be1154a6_fc11_11e9_bff9_24fd527cc727row4_col2" class="data row4 col2" >$-207,634,654.61</td>
                        <td id="T_be1154a6_fc11_11e9_bff9_24fd527cc727row4_col3" class="data row4 col3" >$156,545,507.03</td>
                        <td id="T_be1154a6_fc11_11e9_bff9_24fd527cc727row4_col4" class="data row4 col4" >$612,694,625.22</td>
            </tr>
    </tbody></table>

<p>Finalmente, el cálculo del valor presente neto para todas las réplicas aparte de realizar la suma por filas requiere que se mantengan las dimensiones <code class="codehilite"><span class="n">keepdims</span><span class="o">=</span><span class="k">True</span></code> porque la suma sobre los vectores por defecto aplana el resultado.</p>
<div class="codehilite"><pre><span></span><span class="n">net_pv</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">pv</span><span class="p">(</span><span class="n">discount_rate</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="n">profit</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">keepdims</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span> <span class="o">-</span> <span class="n">total_costs</span>
<span class="n">df_net_pv</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">net_pv</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;VPneto&quot;</span><span class="p">])</span>
<span class="n">df_net_pv</span><span class="o">.</span><span class="n">head</span><span class="p">()</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;${:,.2f}&#39;</span><span class="p">)</span>
</pre></div>

<style  type="text/css" >
</style>

<table id="T_be284490_fc11_11e9_bff9_24fd527cc727" ><thead>    <tr>        <th class="blank level0" ></th>        <th class="col_heading level0 col0" >VPneto</th>    </tr></thead><tbody>
                <tr>
                        <th id="T_be284490_fc11_11e9_bff9_24fd527cc727level0_row0" class="row_heading level0 row0" >0</th>
                        <td id="T_be284490_fc11_11e9_bff9_24fd527cc727row0_col0" class="data row0 col0" >$-10,029,273.04</td>
            </tr>
            <tr>
                        <th id="T_be284490_fc11_11e9_bff9_24fd527cc727level0_row1" class="row_heading level0 row1" >1</th>
                        <td id="T_be284490_fc11_11e9_bff9_24fd527cc727row1_col0" class="data row1 col0" >$213,568,068.91</td>
            </tr>
            <tr>
                        <th id="T_be284490_fc11_11e9_bff9_24fd527cc727level0_row2" class="row_heading level0 row2" >2</th>
                        <td id="T_be284490_fc11_11e9_bff9_24fd527cc727row2_col0" class="data row2 col0" >$390,190,620.32</td>
            </tr>
            <tr>
                        <th id="T_be284490_fc11_11e9_bff9_24fd527cc727level0_row3" class="row_heading level0 row3" >3</th>
                        <td id="T_be284490_fc11_11e9_bff9_24fd527cc727row3_col0" class="data row3 col0" >$-5,876,566.92</td>
            </tr>
            <tr>
                        <th id="T_be284490_fc11_11e9_bff9_24fd527cc727level0_row4" class="row_heading level0 row4" >4</th>
                        <td id="T_be284490_fc11_11e9_bff9_24fd527cc727row4_col0" class="data row4 col0" >$231,141,405.56</td>
            </tr>
    </tbody></table>

<p>Ahora podemos tener la distribución del valor presente neto del proyecto.</p>
<div class="codehilite"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">net_pv</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

<p><img alt="png" src="output_57_0.png" /></p>
<p>Se puede observar que si bien la media está alrededor de los 200 millones de dólares existe la posibilidad de tener retornos negativos.</p>
<p>Para calcular este porcentaje sacamos provecho que en Python un valor lógico verdadero <code class="codehilite"><span class="k">True</span></code> es equivalente a 1 para las operaciones aritméticas. De esta manera, </p>
<div class="codehilite"><pre><span></span><span class="n">negative_risk</span> <span class="o">=</span> <span class="p">(</span><span class="n">net_pv</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="n">f</span><span class="s2">&quot;Riesgo de retornos negativos = {negative_risk:.2%}&quot;</span><span class="p">))</span>
</pre></div>

<p>Riesgo de retornos negativos = 18.96%</p>
<p>Nos quedan dos preguntas pendientes:
* ¿Cuál es la probabilidad de obtener beneficios acumulados netos (positivos) para el tercer año?
* ¿Qué beneficio acumulado mínimo se obtendría en el 5to año con una probabilidad de por lo menos el 90%?</p>
<div class="codehilite"><pre><span></span><span class="p">(</span><span class="n">net_profit</span><span class="p">[:,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>

<div class="codehilite"><pre><span></span><span class="mi">0</span><span class="p">.</span><span class="mi">0961</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">percentile</span><span class="p">(</span><span class="n">net_profit</span><span class="p">[:,</span> <span class="mi">4</span><span class="p">],</span> <span class="mi">10</span><span class="p">)</span>
</pre></div>

<div class="codehilite"><pre><span></span><span class="mi">176657877</span><span class="p">.</span><span class="mi">85314563</span>
</pre></div>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="01simulacion_riesgo.html" title="Simulación y Riesgo" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Anterior
                </span>
                Simulación y Riesgo
              </span>
            </div>
          </a>
        
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2019 Francisco Palm
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="assets/javascripts/application.ac79c3b0.js"></script>
      
        
        
          
          <script src="assets/javascripts/lunr/lunr.stemmer.support.js"></script>
          
            
          
            
              
              
                <script src="assets/javascripts/lunr/lunr.es.js"></script>
              
            
          
          
            <script src="assets/javascripts/lunr/lunr.multi.js"></script>
          
        
      
      <script>app.initialize({version:"1.0.4",url:{base:"."}})</script>
      
        <script src="search/search_index.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
  </body>
</html>